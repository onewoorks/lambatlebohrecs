<h3 class="hidden">{{ heading_title }}</h3>
<div class="row"> {% for product in products %}
  <div class="product-layout col-lg-3 col-md-3 col-sm-6 col-xs-6">
    <div class="product-thumb transition">
    {% if product.tag != '' %}
    <div class="product-tag">{{ product.tag }}</div>
    {% endif %}
      <div class="image"><a href="{{ product.href }}"><img src="{{ product.thumb }}" alt="{{ product.name }}" title="{{ product.name }}" class="img-responsive" /></a></div>
      <div class="caption">
        <h4><a href="{{ product.href }}">{{ product.name|slice(0,50) | trim(' ') }}{{ product.name|length > 50 ? '...' : '' }}</a></h4>
        <p class="hidden">{{ product.description }}</p>
        {% if product.rating %}
        <div class="rating">{% for i in 1..5 %}
          {% if product.rating < i %} <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-2x"></i></span> {% else %} <span class="fa fa-stack"><i class="fa fa-star fa-stack-2x"></i><i class="fa fa-star-o fa-stack-2x"></i></span> {% endif %}
          {% endfor %}</div>
        {% endif %}
        {% if product.price %}
        <p class="price"> {% if not product.special %}
          {{ product.price }}
          {% else %} <span class="price-new">{{ product.special }}</span> <span class="price-old">{{ product.price }}</span> {% endif %}
          {% if product.tax %} <span class="price-tax">{{ text_tax }} {{ product.tax }}</span> {% endif %} </p>
        {% endif %} </div>
      
    </div>
    <div class="hover-add-cart-{ product.product_id }} hidden">
        <button type="button" 
        onclick="cart.add('{{ product.product_id }}');">
        <span class="hidden-xs hidden-sm hidden-md">{{ button_cart }}</span></button>
      </div>
  </div>
  {% endfor %} </div>

<script type="text/javascript">
  $('.product-thumb').on('mouseover', function(){
    $('.hover-add-cart').removeClass('hidden')
  })
  $('.product-thumb').on('mouseout', function(){
    $('.hover-add-cart').addClass('hidden')
  })
</script>